# dnsrelay

## DNS报文解析

- DNS报文格式

## 处理并发

- 基于 ***IOCP*** 使用 ***多线程*** 来处理 DNS请求/回复 (参考 ***《TCP/IP网络编程》***, ***《Windows 核心编程》***)
- 一个套接字是否可以被多个线程同时访问
- ID转换: 使用双向链表实现(因为同一时间接受的DNS请求不会特别多)

## 关于 cache

- 现在的DNS服务器大多使用BIND
- BIND的cache是由红黑树和散列表组合实现的

- 简单的cache实现方法有两个
  1. 散列表
  2. 字典树

## 关于配置文件的读取

- 将配置文件的信息全部加载到内存, 从而减少IO次数 
